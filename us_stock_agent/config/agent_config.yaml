# Stock Analysis Multi-Agent System Configuration
# Generated by Claude Code

# Database Configuration
database:
  host: "localhost"
  port: 5432
  database: "stock_analysis"
  username: ""  # Set via DB_USERNAME environment variable
  password: ""  # Set via DB_PASSWORD environment variable
  connection_pool_size: 10

# API Configuration
api:
  alpha_vantage_key: ""  # Set via ALPHA_VANTAGE_API_KEY environment variable
  financial_modeling_prep_key: ""  # Set via FMP_API_KEY environment variable
  news_api_key: ""  # Set via NEWS_API_KEY environment variable
  rate_limit_requests_per_minute: 60
  timeout_seconds: 30

# Redis Configuration (for caching and pub/sub)
redis:
  host: "localhost"
  port: 6379
  password: ""  # Set via REDIS_PASSWORD environment variable
  db: 0

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file_path: "logs/stock_analysis.log"  # Set to null to disable file logging
  max_file_size: 10485760  # 10MB
  backup_count: 5

# System Configuration
system:
  max_concurrent_requests: 10
  default_timeout: 30.0
  retry_attempts: 3
  health_check_interval: 60
  message_queue_size: 1000

# Agent Configuration
agents:
  # Data Collection Agent - Fetches and manages all stock data
  data_collector:
    agent_type: "DataCollectorAgent"
    enabled: true
    priority: 1
    timeout: 60.0
    retry_count: 3
    dependencies: []
    parameters:
      cache_ttl: 300  # 5 minutes cache TTL
      max_symbols_per_request: 10
      supported_timeframes: ["1min", "5min", "15min", "30min", "1h", "1d", "1wk", "1mo"]
      data_sources:
        - "yfinance"
        - "alpha_vantage" 
        - "financial_modeling_prep"
      rate_limits:
        yfinance: 2000  # requests per hour
        alpha_vantage: 500  # requests per day (free tier)
        financial_modeling_prep: 250  # requests per day (free tier)

  # Technical Analysis Agent - Performs technical indicator calculations
  technical_analyst:
    agent_type: "TechnicalAnalysisAgent"
    enabled: true
    priority: 2
    timeout: 30.0
    retry_count: 3
    dependencies: ["data_collector"]
    parameters:
      indicators: ["rsi", "macd", "sma", "ema", "bollinger", "stochastic", "williams_r"]
      lookback_periods: [5, 10, 20, 50, 100, 200]
      sma_periods: [20, 50, 200]
      ema_periods: [12, 26]
      rsi_period: 14
      macd_periods: [12, 26, 9]  # fast, slow, signal
      bollinger_periods: [20, 2]  # period, std_dev
      pattern_recognition: true
      support_resistance_levels: 5

  # Fundamental Analysis Agent - Analyzes company financials
  fundamental_analyst:
    agent_type: "FundamentalAnalysisAgent"
    enabled: true
    priority: 2
    timeout: 30.0
    retry_count: 3
    dependencies: ["data_collector"]
    parameters:
      metrics: ["pe", "pb", "ps", "pcf", "roe", "roa", "debt_to_equity", "current_ratio", "quick_ratio"]
      peer_comparison: true
      sector_analysis: true
      growth_analysis: true
      profitability_analysis: true
      efficiency_analysis: true
      liquidity_analysis: true
      leverage_analysis: true
      dcf_modeling: false  # Advanced feature - requires more data
      peer_group_size: 5

  # Risk Assessment Agent - Calculates and evaluates investment risks
  risk_assessor:
    agent_type: "RiskAssessmentAgent"
    enabled: true
    priority: 2
    timeout: 30.0
    retry_count: 3
    dependencies: ["data_collector"]
    parameters:
      confidence_level: 0.95
      lookback_days: 252  # 1 year of trading days
      var_methods: ["historical", "parametric"]
      risk_metrics: ["volatility", "beta", "var", "cvar", "max_drawdown", "sharpe_ratio", "sortino_ratio"]
      benchmark_index: "^GSPC"  # S&P 500
      risk_free_rate: 0.02  # 2% annual
      correlation_analysis: true
      stress_testing: false  # Advanced feature

  # Sentiment Analysis Agent - Analyzes market sentiment and news
  sentiment_analyzer:
    agent_type: "SentimentAnalysisAgent"
    enabled: true
    priority: 2
    timeout: 45.0
    retry_count: 3
    dependencies: ["data_collector"]
    parameters:
      news_sources: ["reuters", "bloomberg", "yahoo", "marketwatch", "cnbc"]
      social_sources: ["twitter", "reddit"]  # Requires API access
      sentiment_window_hours: 24
      sentiment_models: ["vader", "textblob"]  # Can add more sophisticated models
      insider_trading_analysis: true
      analyst_recommendations: true
      earnings_sentiment: true
      news_impact_analysis: true
      sentiment_scoring_weights:
        news: 0.4
        analyst: 0.3
        social: 0.2
        insider: 0.1

  # Visualization Agent - Generates charts and visual reports
  visualizer:
    agent_type: "VisualizationAgent"
    enabled: true
    priority: 3
    timeout: 60.0
    retry_count: 3
    dependencies: ["technical_analyst", "fundamental_analyst", "risk_assessor", "sentiment_analyzer"]
    parameters:
      chart_types: ["candlestick", "line", "volume", "indicators", "comparison", "correlation"]
      output_formats: ["png", "svg", "html", "pdf"]
      chart_library: "plotly"  # plotly, matplotlib, or bokeh
      interactive_charts: true
      chart_themes: ["light", "dark"]
      default_theme: "light"
      resolution: "high"
      chart_dimensions:
        width: 1200
        height: 800
      include_volume: true
      include_indicators: true
      watermark: true

  # Report Generation Agent - Compiles comprehensive analysis reports
  report_generator:
    agent_type: "ReportGenerationAgent"
    enabled: true
    priority: 4
    timeout: 90.0
    retry_count: 3
    dependencies: ["technical_analyst", "fundamental_analyst", "risk_assessor", "sentiment_analyzer", "visualizer"]
    parameters:
      report_formats: ["pdf", "html", "json"]
      include_charts: true
      include_executive_summary: true
      include_detailed_analysis: true
      include_recommendations: true
      include_risk_disclosure: true
      template_style: "professional"
      branding: true
      report_sections:
        - "executive_summary"
        - "market_overview"
        - "technical_analysis"
        - "fundamental_analysis"  
        - "risk_assessment"
        - "sentiment_analysis"
        - "recommendations"
        - "appendix"
      auto_insights: true
      compliance_checks: true

# Advanced Configuration Options
advanced:
  # Machine Learning Features
  machine_learning:
    enabled: false
    models:
      price_prediction: false
      sentiment_classification: false
      risk_modeling: false
    
  # Real-time Features
  real_time:
    enabled: false
    streaming_data: false
    alerts: false
    webhooks: []
    
  # Portfolio Management
  portfolio_management:
    enabled: false
    position_sizing: false
    rebalancing: false
    optimization: false
    
  # Backtesting
  backtesting:
    enabled: false
    historical_data_years: 5
    commission_model: "fixed"  # fixed, percentage
    slippage_model: "fixed"
    
  # Performance Monitoring
  monitoring:
    enabled: true
    metrics_collection: true
    performance_tracking: true
    error_tracking: true
    uptime_monitoring: true
    
  # Security
  security:
    api_key_encryption: true
    secure_logging: true
    audit_trail: true
    access_control: false
    rate_limiting: true

# Environment-specific overrides
# These can be overridden by environment variables or separate config files
environments:
  development:
    logging:
      level: "DEBUG"
    system:
      max_concurrent_requests: 5
      
  staging:
    logging:
      level: "INFO"
    system:
      max_concurrent_requests: 8
      
  production:
    logging:
      level: "WARNING"
      file_path: "/var/log/stock_analysis/app.log"
    system:
      max_concurrent_requests: 20
      default_timeout: 60.0
    advanced:
      monitoring:
        enabled: true
      security:
        audit_trail: true